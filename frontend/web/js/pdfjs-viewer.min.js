"use strict";pdfjsLib.getDocument&&pdfjsViewer.PDFViewer||alert("Please build the pdfjs-dist library using\n `gulp dist-install`");var USE_ONLY_CSS_ZOOM=!0,TEXT_LAYER_MODE=0,MAX_IMAGE_SIZE=1048576,CMAP_URL="../../../../node_modules/pdfjs-dist/cmaps/",CMAP_PACKED=!0;pdfjsLib.GlobalWorkerOptions.workerSrc="pdf.worker.min.js";var DEFAULT_SCALE_DELTA=1.1,MIN_SCALE=.25,MAX_SCALE=10,DEFAULT_SCALE_VALUE=.6,PDFViewerApplication={pdfLoadingTask:null,pdfDocument:null,pdfViewer:null,pdfHistory:null,pdfLinkService:null,open:function(e){if(this.pdfLoadingTask)return this.close().then(function(){return this.open(e)}.bind(this));var t=e.url,n=this;this.setTitleUsingUrl(t);var i=pdfjsLib.getDocument({url:t,maxImageSize:MAX_IMAGE_SIZE,cMapUrl:CMAP_URL,cMapPacked:CMAP_PACKED});return(this.pdfLoadingTask=i).onProgress=function(e){n.progress(e.loaded/e.total)},i.promise.then(function(e){n.pdfDocument=e,n.pdfViewer.setDocument(e),n.pdfLinkService.setDocument(e),n.pdfHistory.initialize({fingerprint:e.fingerprint}),n.loadingBar.hide(),n.setTitleUsingMetadata(e)},function(e){var t=e&&e.message,i=n.l10n;(e instanceof pdfjsLib.InvalidPDFException?i.get("invalid_file_error",null,"Invalid or corrupted PDF file."):e instanceof pdfjsLib.MissingPDFException?i.get("missing_file_error",null,"Missing PDF file."):e instanceof pdfjsLib.UnexpectedResponseException?i.get("unexpected_response_error",null,"Unexpected server response."):i.get("loading_error",null,"An error occurred while loading the PDF.")).then(function(e){n.error(e,{message:t})}),n.loadingBar.hide()})},close:function(){if(document.getElementById("errorWrapper").setAttribute("hidden","true"),!this.pdfLoadingTask)return Promise.resolve();var e=this.pdfLoadingTask.destroy();return this.pdfLoadingTask=null,this.pdfDocument&&(this.pdfDocument=null,this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null,null)),e},get loadingBar(){var e=new pdfjsViewer.ProgressBar("#loadingBar",{});return pdfjsLib.shadow(this,"loadingBar",e)},setTitleUsingUrl:function(e){this.url=e;var t=pdfjsLib.getFilenameFromUrl(e)||e;try{t=decodeURIComponent(t)}catch(e){}this.setTitle(t)},setTitleUsingMetadata:function(o){var s=this;o.getMetadata().then(function(e){var t,i=e.info,n=e.metadata;if(s.documentInfo=i,s.metadata=n,console.log("PDF "+o.fingerprint+" ["+i.PDFFormatVersion+" "+(i.Producer||"-").trim()+" / "+(i.Creator||"-").trim()+"] (PDF.js: "+(pdfjsLib.version||"-")+")"),n&&n.has("dc:title")){var r=n.get("dc:title");"Untitled"!==r&&(t=r)}!t&&i&&i.Title&&(t=i.Title),t&&s.setTitle(t+" - "+document.title)})},setTitle:function(){},error:function(e,t){var i=this.l10n,n=[i.get("error_version_info",{version:pdfjsLib.version||"?",build:pdfjsLib.build||"?"},"PDF.js v{{version}} (build: {{build}})")];t&&(n.push(i.get("error_message",{message:t.message},"Message: {{message}}")),t.stack?n.push(i.get("error_stack",{stack:t.stack},"Stack: {{stack}}")):(t.filename&&n.push(i.get("error_file",{file:t.filename},"File: {{file}}")),t.lineNumber&&n.push(i.get("error_line",{line:t.lineNumber},"Line: {{line}}"))));var r=document.getElementById("errorWrapper");r.removeAttribute("hidden"),document.getElementById("errorMessage").textContent=e,document.getElementById("errorClose").onclick=function(){r.setAttribute("hidden","true")};var o=document.getElementById("errorMoreInfo"),s=document.getElementById("errorShowMore"),d=document.getElementById("errorShowLess");s.onclick=function(){o.removeAttribute("hidden"),s.setAttribute("hidden","true"),d.removeAttribute("hidden"),o.style.height=o.scrollHeight+"px"},d.onclick=function(){o.setAttribute("hidden","true"),s.removeAttribute("hidden"),d.setAttribute("hidden","true")},s.removeAttribute("hidden"),d.setAttribute("hidden","true"),Promise.all(n).then(function(e){o.value=e.join("\n")})},progress:function(e){var t=Math.round(100*e);(t>this.loadingBar.percent||isNaN(t))&&(this.loadingBar.percent=t)},get pagesCount(){return this.pdfDocument.numPages},set page(e){this.pdfViewer.currentPageNumber=e},get page(){return this.pdfViewer.currentPageNumber},zoomIn:function(e){for(var t=this.pdfViewer.currentScale;t=(t*DEFAULT_SCALE_DELTA).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(MAX_SCALE,t),--e&&t<MAX_SCALE;);this.pdfViewer.currentScaleValue=t},zoomOut:function(e){for(var t=this.pdfViewer.currentScale;t=(t/DEFAULT_SCALE_DELTA).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(MIN_SCALE,t),--e&&MIN_SCALE<t;);this.pdfViewer.currentScaleValue=t},initUI:function(){var e=new pdfjsViewer.PDFLinkService;this.pdfLinkService=e,this.l10n=pdfjsViewer.NullL10n;var t=document.getElementById("viewerContainer"),i=new pdfjsViewer.PDFViewer({container:t,linkService:e,l10n:this.l10n,useOnlyCssZoom:USE_ONLY_CSS_ZOOM,textLayerMode:TEXT_LAYER_MODE});this.pdfViewer=i,e.setViewer(i),this.pdfHistory=new pdfjsViewer.PDFHistory({linkService:e}),e.setHistory(this.pdfHistory),document.getElementById("previous").addEventListener("click",function(){PDFViewerApplication.page--}),document.getElementById("next").addEventListener("click",function(){PDFViewerApplication.page++}),document.getElementById("zoomIn").addEventListener("click",function(){PDFViewerApplication.zoomIn()}),document.getElementById("zoomOut").addEventListener("click",function(){PDFViewerApplication.zoomOut()}),document.getElementById("pageNumber").addEventListener("click",function(){this.select()}),document.getElementById("pageNumber").addEventListener("change",function(){PDFViewerApplication.page=0|this.value,this.value!==PDFViewerApplication.page.toString()&&(this.value=PDFViewerApplication.page)}),document.addEventListener("pagesinit",function(){i.currentScaleValue=DEFAULT_SCALE_VALUE}),document.addEventListener("pagechanging",function(e){var t=e.detail.pageNumber,i=PDFViewerApplication.pagesCount;document.getElementById("pageNumber").value=t,document.getElementById("previous").disabled=t<=1,document.getElementById("next").disabled=i<=t},!0)}};document.addEventListener("DOMContentLoaded",function(){PDFViewerApplication.initUI()},!0),PDFViewerApplication.animationStartedPromise=new Promise(function(e){window.requestAnimationFrame(e)});