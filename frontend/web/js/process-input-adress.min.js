ymaps.ready(function(){var r="adress-suggest",a=new ymaps.SuggestView(r);function t(e){ymaps.geocode(e).then(function(e){var r=e.geoObjects.get(0),a=r.geometry.getCoordinates();$("#form-latitude").val(a[0]),$("#form-longitude").val(a[1]);var t=r.getLocalities()[0];$("#profile-city_id").select2("val",$('#profile-city_id option:contains("'+t+'")').val()),function(e,r){if(e)switch(e.properties.get("metaDataProperty.GeocoderMetaData.precision")){case"exact":break;case"number":case"near":case"range":r="Уточните номер дома";break;case"street":r="Уточните номер дома";break;case"other":default:r="Уточните адрес"}else r="Уточните адрес";r&&($("#form-adress-group").addClass("has-error"),$("#form-error-message").show(),$("#form-error-message").html(r))}(r,void 0)})}t(),$("#"+r).on("change",function(){$("#form-adress-group").removeClass("has-error"),$("#form-error-message").hide(),$("#form-error-message").html();var e=a.state.get("activeIndex");t(a.state.get("items")[e]?a.state.get("items")[e].value:$("#"+r).val())}).on("keyup",function(){""===$(this).val()&&$("#form-error-message").hide()})});