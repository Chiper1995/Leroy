function AllJournalsGoods(e,t,i,n,o){var d=this;void 0===o&&(o="AllJournalSearch"),this.elementId="#"+e,this.treeViewElementId="#"+t,this.modalElementId="#"+i,this.formElementId="#"+n,this.onNodeSelected=function(e,t){d.addRow(t.id,t.name)},this.onNodeUnselected=function(e,t){d.removeRow(t.id)},this.getNodeById=function(e){var t=$(d.treeViewElementId).treeview("getNodes");for(var i in t)if(t[i].id==e)return t[i]},this.addRow=function(e,t){$(d.elementId).find("ul").append('<li data-id="'+e+'"><span class="goods-delete">&times;</span>'+t+'<input type="hidden" value="'+e+'" name="'+o+'[goods_filter][]"></li>'),d.visiblePrompt()},this.removeRow=function(e){$(d.elementId).find("ul").find("li[data-id="+e+"]").remove(),d.visiblePrompt()},this.visiblePrompt=function(){0<$(d.elementId).find("ul > li").length?$(d.elementId+" .prompt").hide():$(d.elementId+" .prompt").show()},this.submitTimeout=void 0,jQuery(document).ready(function(){$("body").on("click",d.elementId+" .goods-delete",function(){var e=$(this).parents("li:first").attr("data-id"),t=d.getNodeById(e);return null!=t&&($(d.treeViewElementId).treeview("unselectNode",[t,{silent:!0}]),d.removeRow(e),null!=d.submitTimeout&&(clearTimeout(d.submitTimeout),d.submitTimeout=void 0),d.submitTimeout=setTimeout(function(){$(d.formElementId).submit()},1500)),!1}),$(d.modalElementId).on("hidden.bs.modal",function(e){$(d.formElementId).submit()})})}